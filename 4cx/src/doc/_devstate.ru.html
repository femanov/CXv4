<HTML>
<HEAD>
<TITLE>Каналы _devstate -- что это такое</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="style.css">
</HEAD>
<BODY>

<H1>Каналы <TT>_devstate</TT> -- что это такое</H1>

<P>CX-сервер для каждого устройства автоматически создаёт 2 канала:

  <UL TYPE=square>

  <LI><TT>_devstate</TT> -- целочисленный канал, содержащий текущее
состояние устройства.  Значения совпадают с константами
<CODE>DEVSTATE_nnn</CODE> (файл <TT>cxsd_driver.h</TT>):

    <UL TYPE=square>

    <LI><CODE>-1</CODE> -- <CODE>DEVSTATE_OFFLINE</CODE>, устройство не
работает и работать не будет (например, устройство на шине отсутствует).

    <LI><CODE>&nbsp;0</CODE> -- <CODE>DEVSTATE_NOTREADY</CODE>, устройство
не готово (например, не включено питание).

    <LI><CODE>+1</CODE> -- <CODE>DEVSTATE_OPERATING</CODE>, устройство
работает нормально.

    </UL>

  <LI><TT>_devstate_description</TT> -- строковый канал, содержащий описание
проблемы с устройством, если оно указано драйвером.  При неуказанности или в
состоянии OPERATING тут будет пустая строка.

  </UL>

<P>Оба канала обновляются в момент смены состояния устройства.

<P>Основное назначение канала <TT>_devstate</TT> -- удалённое
мониторирование состояния устройства, причём через обычный интерфейс
каналов.  Эта возможность используется, в частности, в

<A HREF="lib/vdev.ru.html">библиотеке vdev</A>.


</BODY>
</HTML>
