<HTML>
<HEAD>
<TITLE>das-experiment: руководство</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../style.css">
</HEAD>
<BODY>

<H1>Утилита <CODE>das-experiment</CODE></H1>

	<H2>Введение</H2>

<P>Утилита <CODE>das-experiment</CODE> предназначена для "проведения
эксперимента" в виде периодической выдачи значений группы каналов.

  <UL TYPE=square>

  <LI>Указываемый в командной строке набор каналов мониторируется, и по
некоему событию производится выдача всех значений одной строкой (значения
разделяются пробелами).

  <LI>В начале каждой строки ставится метка времени.

  <LI>Таким образом, каждая строка содержит "срез" состояния группы каналов
в конкретный момент времени, а набор таких строк является "протоколом
эксперимента".

  </UL>

<P>Выдача может производиться как по "событию" -- по приходу значения
некоего канала-триггера (для этого перед именем канала указывается символ
<TT>'+'</TT> (плюс)), так и периодически, раз в сколько-то миллисекунд (это
указывается ключом <CODE>-p</CODE>).  Оба варианта могут комбинироваться,
причём количество каналов-триггеров не ограничивается.

<P>Продолжительность эксперимента можно ограничивать либо числом событий
(ключ <CODE>-t</CODE>), либо временем (ключ <CODE>-T</CODE>).  По умолчанию
ограничений нет.


	<H2>Использование</H2>

<P>По синтаксису <CODE>das-experiment</CODE> похожа на
<CODE>cdaclient</CODE>: они унифицированы по ключам, а

<A HREF="cdaclient.ru.html#channel-spec-syntax">синтаксис указания каналов
совпадает</A>.

<P>Общий формат вызова:

<BLOCKQUOTE><CODE>das-experiment [КЛЮЧИ] [+]КАНАЛ {[+]КАНАЛ...}</CODE></BLOCKQUOTE>

<P>Символ <TT>'+'</TT> (плюс) перед именем канала помечает этот канал как
триггерный.

<P>Поддерживаемые ключи:

<TABLE BORDER=0 CELLSPACING=2 ALIGN=center>

<TR VALIGN=baseline><TD><CODE>-1</CODE></TD><TD>НЕ производить расширения
скобок <CODE>{}</CODE> и <CODE>&lt;&gt;</CODE>.</TD></TR>

<TR VALIGN=baseline><TD><CODE>-b BASEREF</CODE></TD><TD>Общий префикс имён
каналов -- base.</TD></TR>

<TR VALIGN=baseline><TD><CODE>-d DEFPFX</CODE></TD><TD>Общий префикс имён
каналов -- defpfx.</TD></TR>

<TR VALIGN=baseline><TD><CODE>-f FILENAME</CODE></TD><TD>Считать список
каналов из указанного файла, по одному имени на строку.</TD></TR>

<TR VALIGN=baseline><TD><CODE>-p PERIOD</CODE></TD><TD>Периодическая выдача
раз в PERIOD миллисекунд.</TD></TR>

<TR VALIGN=baseline><TD><CODE>-o OUTFILE</CODE></TD><TD>Отправить выдачу в
указанный файл вместо stdout.</TD></TR>

<TR VALIGN=baseline><TD><CODE>-t TIMES</CODE></TD><TD>Количество строк,
после выдачи которых завершить эксперимент.</TD></TR>

<TR VALIGN=baseline><TD><CODE>-T DURATION</CODE></TD><TD>Длительность
эксперимента в секундах.</TD></TR>

<TR VALIGN=baseline><TD><CODE>-h</CODE></TD><TD>Печать краткой справки
(help) и выход.</TD></TR>

</TABLE>

</BODY>
</HTML>
